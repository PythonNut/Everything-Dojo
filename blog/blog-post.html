<div id="navigation_box">
  <div id="left_navigation_box">
    <a href="#">Community</a> &#187; <a href="#">Blogs</a> &#187; <a href="#">Your Blog</a> &#187; <a href="#">Add a new blog entry</a>
  </div>
  <div id="right_navigation_box">
    <a href="#">Blog Control Panel</a>
  </div>
  <div class="clear"></div>
</div>



<div id="wrapper">
  <div id="header">
    <h1>Your Blog</h1>
  </div>
  <div id="content">
    <div id="main">

      <form id="postform" name="postform">
        <h3>Post a Blog Entry</h3>

        <fieldset class="fields1">

          <p>Subject<input name="subject" id="subject" size="45" maxlength="64" tabindex="2" class="inputbox autowidth" type="text"></p>


  <script type="text/javascript">
  // <![CDATA[

  // Define the bbCode tags
  var bbcode = new Array();
  var bbtags = new Array('[b]','[/b]','[i]','[/i]','[u]','[/u]','[quote]','[/quote]','[code]','[/code]','[list]','[/list]','[list=]','[/list]','[img]','[/img]','[url]','[/url]','[flash=]', '[/flash]','[size=]','[/size]','[hide]','[/hide]');
  var imageTag = false;

  // Helpline messages
  var help_line = {
    b: 'Bold text: [b]text[/b]',
    i: 'Italic text: [i]text[/i]',
    u: 'Underline text: [u]text[/u]',
    q: 'Quote text: [quote]text[/quote]',
    c: 'Code display: [code]code[/code]',
    l: 'List: [list]text[/list]',
    o: 'Ordered list: [list=]text[/list]',
    p: 'Insert image: [img]http://image_url[/img]',
    w: 'Insert URL: [url]http://url[/url] or [url=http://url]URL text[/url]',
    s: 'Font color: [color=red]text[/color]  Tip: you can also use color=#FF0000',
    f: 'Font size: [size=85]small text[/size]',
    e: 'List: Add list element',
    d: 'Flash: [flash=width,height]http://url[/flash]',
      t: '{ BBCODE_T_HELP }',
    h: 'Hide part of message: [hide]Text to hide[/hide]',
          g: 'Click to add an image using Geogebra. Requires Popups and Java.',
    tip: 'Tip: Styles can be applied quickly to selected text.'

  }
  var show_panel = 'options-panel';

  // ]]>
  </script>

  <input class="btnbbcode" accesskey="b" name="addbbcode0" value=" B " style="font-weight:bold; width: 30px;" onclick="bbstyle(0)" onmouseover="helpline('b')" onmouseout="helpline('tip')" type="button">
  <input class="btnbbcode" accesskey="i" name="addbbcode2" value=" i " style="font-style:italic; width: 30px;" onclick="bbstyle(2)" onmouseover="helpline('i')" onmouseout="helpline('tip')" type="button">
  <input class="btnbbcode" accesskey="u" name="addbbcode4" value=" u " style="text-decoration: underline; width: 30px;" onclick="bbstyle(4)" onmouseover="helpline('u')" onmouseout="helpline('tip')" type="button">

    <input class="btnbbcode" accesskey="q" name="addbbcode6" value="Quote" style="width: 50px" onclick="bbstyle(6)" onmouseover="helpline('q')" onmouseout="helpline('tip')" type="button">

  <input class="btnbbcode" accesskey="h" name="addbbcode22" value="Hide" style="width: 50px" onclick="bbstyle(22)" onmouseover="helpline('h')" onmouseout="helpline('tip')" type="button">
  <input class="btnbbcode" accesskey="c" name="addbbcode8" value="Code" style="width: 40px" onclick="bbstyle(8)" onmouseover="helpline('c')" onmouseout="helpline('tip')" type="button">
  <input class="btnbbcode" accesskey="l" name="addbbcode10" value="List" style="width: 40px" onclick="bbstyle(10)" onmouseover="helpline('l')" onmouseout="helpline('tip')" type="button">
  <input class="btnbbcode" accesskey="o" name="addbbcode12" value="List=" style="width: 40px" onclick="bbstyle(12)" onmouseover="helpline('o')" onmouseout="helpline('tip')" type="button">
  <input class="btnbbcode" accesskey="t" name="addlitsitem" value="[*]" style="width: 40px" onclick="bbstyle(-1)" onmouseover="helpline('e')" onmouseout="helpline('tip')" type="button">

    <input class="btnbbcode" accesskey="p" name="addbbcode14" value="Img" style="width: 40px" onclick="bbstyle(14)" onmouseover="helpline('p')" onmouseout="helpline('tip')" type="button">

    <input class="btnbbcode" accesskey="w" name="addbbcode16" value="URL" style="text-decoration: underline; width: 40px" onclick="bbstyle(16)" onmouseover="helpline('w')" onmouseout="helpline('tip')" type="button">


      <input class="btnbbcode" accesskey="g" name="addbbcode19" value="Geogebra" onmouseover="helpline('g')" onmouseout="helpline('tip')" type="button">

  <span class="genmed nowrap">
    Font size:
    <select class="gensmall" name="addbbcode20" onchange="bbfontstyle('[size=' + this.form.addbbcode20.options[this.form.addbbcode20.selectedIndex].value + ']', '[/size]');this.form.addbbcode20.selectedIndex = 2;" onmouseover="helpline('f')" onmouseout="helpline('tip')">
      <option value="50">Tiny</option>
      <option value="85">Small</option>
      <option value="100" selected="selected">Normal</option>
      <option value="150">Large</option>
      <option value="200">Huge</option>
    </select>
  </span>





<input readonly="readonly" name="helpbox" style="width:100%" class="helpline" value="Tip: Styles can be applied quickly to selected text." type="text">

  Font color




          <div id="smiley-box">

              <strong>Smilies</strong><br>

                <a href="#" onclick="insert_text(':D', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/icon_mrgreen.gif" alt=":D" title="Mr. Green" width="19" height="19"></a>

                <a href="#" onclick="insert_text(':lol:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/biggrin.gif" alt=":lol:" title="Very Happy" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':blush:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/redface_anim.gif" alt=":blush:" title="Blush" width="19" height="19"></a>

                <a href="#" onclick="insert_text(':maybe:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/unsure.gif" alt=":maybe:" title="maybe" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':)', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/smile.gif" alt=":)" title="Smile" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':(', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/sad.gif" alt=":(" title="Sad" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':o', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/ohmy.gif" alt=":o" title="Shocked" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':mad:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/mad.gif" alt=":mad:" title="Mad" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':P', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/tongue.gif" alt=":P" title="Razz" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':oops:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/blush.gif" alt=":oops:" title="Embarassed" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':roll:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/rolleyes.gif" alt=":roll:" title="Rolling Eyes" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':wink:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/wink.gif" alt=":wink:" title="Wink" width="20" height="20"></a>

                <a href="#" onclick="insert_text(':!:', true); return false;"><img src="http://www.artofproblemsolving.com/Forum/images/smilies/exclaim.gif" alt=":!:" title="Exclamation" width="19" height="19"></a>

              <br><a href="#" onclick="">View more smilies</a>
            <hr>
            <a href="http://www.artofproblemsolving.com/Forum/faq.php?mode=bbcode" target="_blank">BBCode</a> is <em>ON</em><br>

              [img] is <em>ON</em><br>
              [url] is <em>ON</em><br>
              Smilies are <em>ON</em>

          </div>



          <div id="message-box">
            <textarea class="inputbox" name="message" id="message" rows="15" cols="76" tabindex="3" onselect="storeCaret(this);" onclick="storeCaret(this);" onkeyup="storeCaret(this);"></textarea>
          </div>
        </fieldset>



        <div class="panel bg2">
          <fieldset class="submit-buttons">


            <input tabindex="5" name="preview" value="Preview" class="button1" onclick="" type="submit">&nbsp;
            <input accesskey="s" tabindex="6" name="post" value="Submit" class="button1" type="submit">&nbsp;

          </fieldset>
        </div>


        <div id="tabs">
          <ul>

              <li id="options-panel-tab" class="activetab"><a href="#tabs" onclick="subPanels('options-panel'); return false;"><span>Options</span></a></li>

              <li class="" id="permissions-panel-tab"><a href="#tabs" onclick="subPanels('permissions-panel'); return false;"><span>Permissions</span></a></li>

              <li class="" id="subscriptions-panel-tab"><a href="#tabs" onclick="subPanels('subscriptions-panel'); return false;"><span>Subscription</span></a></li>

              <li class="" id="attach-panel-tab"><a href="#tabs" onclick="subPanels('attach-panel'); return false;"><span>Upload attachment</span></a></li>

              <li class="" id="tags-panel-tab"><a href="#tabs" onclick="subPanels('tags-panel'); return false;"><span>Tags</span></a></li>

          </ul>
        </div>


        <div style="display: block;" class="panel bg3" id="options-panel">
          <fieldset class="fields1">

              <div><label for="disable_bbcode"><input name="disable_bbcode" id="disable_bbcode" type="checkbox"> Disable BBCode</label></div>

              <div><label for="disable_smilies"><input name="disable_smilies" id="disable_smilies" type="checkbox"> Disable smilies</label></div>

              <div><label for="disable_magic_url"><input name="disable_magic_url" id="disable_magic_url" type="checkbox"> Do not automatically parse URLs</label></div>

          </fieldset>
        </div>



<div style="display: none;" class="panel bg2" id="attach-panel">
<fieldset>
<p>
  <span class="gensmall">If you wish to attach one or more files enter the details below.</span>
</p>

<table>
<tbody><tr>
  <td>
    <span style="font-size:12px">Filename</span>
  </td>
  <td>
    <input name="fileupload" size="40" maxlength="524288" value="" class="btnfile" type="file" disabled> <!-- disabled to prevent uploading of files to server -->
  </td>
</tr>

<tr>
  <td style="vertical-align:top">
    <span style="font-size:12px">File comment</span>
  </td>
  <td>
    <textarea class="post" name="filecomment" rows="3" cols="35"></textarea>&nbsp;</td>

</tr>
<tr>
  <td>&nbsp;</td>
  <td>
    <input class="button2" style="width:150px" name="add_file" value="Add the file" onclick="" type="submit">
  </td>
</tr>
</tbody></table>


</fieldset>
</div>
          <div style="display: none;" class="panel bg3" id="permissions-panel">
            <fieldset>


              <dl>
                <dt><label for="perm_guest0">Guest Permissions:</label></dt>
                <dd>
                  <label for="perm_guest0"><input name="perm_guest" id="perm_guest0" value="0" type="radio"> Can not read or reply to this blog entry.</label><br>
                  <label for="perm_guest1"><input name="perm_guest" id="perm_guest1" value="1" checked="checked" type="radio"> Can read this blog entry.</label><br>
                  <label for="perm_guest2"><input name="perm_guest" id="perm_guest2" value="2" type="radio"> Can read and reply to this blog entry.</label><br>
                </dd>
              </dl>

              <dl>
                <dt><label for="perm_registered0">Members Permissions:</label></dt>
                <dd>
                  <label for="perm_registered0"><input name="perm_registered" id="perm_registered0" value="0" type="radio"> Can not read or reply to this blog entry.</label><br>
                  <label for="perm_registered1"><input name="perm_registered" id="perm_registered1" value="1" type="radio"> Can read this blog entry.</label><br>
                  <label for="perm_registered2"><input name="perm_registered" id="perm_registered2" value="2" checked="checked" type="radio"> Can read and reply to this blog entry.</label><br>
                </dd>
              </dl>

              <dl>
                <dt><label for="perm_foe0">Foe Permissions:</label></dt>
                <dd>
                  <label for="perm_foe0"><input name="perm_foe" id="perm_foe0" value="0" checked="checked" type="radio"> Can not read or reply to this blog entry.</label><br>
                  <label for="perm_foe1"><input name="perm_foe" id="perm_foe1" value="1" type="radio"> Can read this blog entry.</label><br>
                  <label for="perm_foe2"><input name="perm_foe" id="perm_foe2" value="2" type="radio"> Can read and reply to this blog entry.</label><br>
                </dd>
              </dl>

              <dl>
                <dt><label for="perm_friend0">Friend Permissions:</label></dt>
                <dd>
                  <label for="perm_friend0"><input name="perm_friend" id="perm_friend0" value="0" type="radio"> Can not read or reply to this blog entry.</label><br>
                  <label for="perm_friend1"><input name="perm_friend" id="perm_friend1" value="1" type="radio"> Can read this blog entry.</label><br>
                  <label for="perm_friend2"><input name="perm_friend" id="perm_friend2" value="2" checked="checked" type="radio"> Can read and reply to this blog entry.</label><br>
                </dd>
              </dl>


            </fieldset>
          </div>

        <div style="display: none;" class="panel bg3" id="subscriptions-panel">
          <fieldset>
            <dl>
              <dt>Select how you would like to be notified of future replies made to this blog.</dt>

                <dd><label for=""><input name="subscription_1" id="subscription_1" type="checkbox"> Private message</label></dd>

                <dd><label for=""><input name="subscription_2" id="subscription_2" type="checkbox"> E-mail</label></dd>

            </dl>
          </fieldset>
        </div>



        <div style="display: none;" class="panel bg3" id="tags-panel">
<fieldset>
  <dl>
    <dt><label for="tags" style="font-size:12px;">Tags:</label><br><p style="font-size: 10px">Enter the tags separated by a comma.</p></dt>
    <dd><input name="tags" id="tags" type="text"></dd>
  </dl>

  <dl>
    <dt><label for="categories" style="font-size:12px;">Categories:</label><br><p style="font-size: 10px">You can select a category from the dropdown or type in a new category and click "Add."</p></dt>
    <dd>
      <div id="categories" style="margin-bottom:1em;">

       </div>

      <select id="category-cat" name="category-cat" style="font-size:11px;">
        <option selected="selected" value=""></option>

          <option value="AoPS">AoPS</option>

      </select>

      <input id="category-new" name="category-new" size="20" type="text">

      <input id="category-sel-add" name="category-sel-add" value="Add" style="font-size:11px;" onclick="blog_add_category();return false;" type="submit">
      <input id="category-options" name="categories" value="" type="hidden">
    </dd>
  </dl>

</fieldset>
</div>

<script type="text/javascript">
function blog_remove_category(category_id) {
  $("#cat-" + category_id).remove();

  var categories = $("#category-options").val().split(",");

  $.post("",
    {
      method: "remove_category",
      blog_user_id: 0,
      category_id: category_id,
      blog_id: 0
    }
  );

  for (var i = categories.length - 1; i >= 0; i--) {
    if (categories[i] == category_id) {
      categories.splice(i, 1);
      $("#category-options").val(categories.join(','));
      return;
    }
  }
}

function blog_add_category() {
  // Get text, first checking input box then checking select box
  var category_name = $("#category-new").val().trim();

  if (category_name.length == 0) {
    category_name = $("#category-cat").val();
  }

  if (category_name.length == 0) {
    return false;
  }

  // Todo add category to display - We're gonna need to do some ajax here.
  // Themizer: ajax post url removed to avoid questionable activity
  $.post("",
    {
      method: "get_category",
      blog_user_id: 0,
      category_name: category_name
    }, function(data)
    {
      // Check if item is already listed
      var category_ids = $("#category-options").val().split(',');
      for (var i = category_ids.length; i > 0; i--) {
        if (category_ids[i] == data.category_id) {
          return false;
        }
      }

      var s = '<div id="cat-' + data.category_id + '">';
      s += '<span style="font-size:13px;" id="label-' + data.category_id + '">' + data.category_name + '</span> ';
      s += '<span style="font-size:10px;cursor:pointer;" onclick="blog_remove_category(' + data.category_id + ');">[Remove]</span>';
      s += '</div>';
      $("#categories").append(s);
      category_ids.push(data.category_id);
      $("#category-options").val(category_ids.join(','));
    }, "json"
  );
  return;
}
</script>


      </form>
    </div>
    <div class="clear"></div>
  </div>
</div>


<script type="text/javascript">
// <![CDATA[
var panels = new Array('options-panel', 'permissions-panel', 'subscriptions-panel', 'attach-panel', 'tags-panel');
subPanels(show_panel);

var form_name = 'postform';
var text_name = 'message';
// ]]>
</script>
